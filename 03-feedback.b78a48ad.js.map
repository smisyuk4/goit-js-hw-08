{"mappings":"qhBAsBA,MAAMA,EAASC,EAFfC,EAAA,UAGA,IAAIC,EAAa,GACbC,EAAUC,aAAaC,QAAQ,uBAEnC,MAAMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,QAASH,SAASC,cAAc,aAGpC,GAAIN,EAAS,EAMb,SAAyBS,GACrB,MAAMF,MACFA,EAAKC,QACLA,GACAC,EAEAA,EAAgBC,eAAe,WAC/BP,EAAKI,MAAMI,MAAQJ,EACnBR,EAAWQ,MAAQA,GAGnBE,EAAgBC,eAAe,aAC/BP,EAAKK,QAAQG,MAAQH,EACrBT,EAAWS,QAAUA,E,CAhBzBI,CAFwBC,KAAKC,MAAMd,G,CA+CvCG,EAAKC,KAAKW,iBAAiB,QAASnB,EAAOoB,UAzBrBC,IAClB,MAAMC,EAAUD,EAAME,OAAOC,aAAa,QAE1B,UAAZF,IACAnB,EAAWQ,MAAQU,EAAME,OAAOR,OAGpB,YAAZO,IACAnB,EAAWS,QAAUS,EAAME,OAAOR,OAGtCX,EAAUa,KAAKQ,UAAUtB,GACzBE,aAAaqB,QAAQ,sBAAuBtB,EAAQ,GAaU,MAElEG,EAAKC,KAAKW,iBAAiB,UAZJE,IACnBA,EAAMM,iBACNC,QAAQC,IAAI1B,GAEZE,aAAayB,QACbvB,EAAKI,MAAMI,MAAQ,GACnBR,EAAKK,QAAQG,MAAQ,GACrBZ,EAAa,EAAE","sources":["src/js/03-feedback.js"],"sourcesContent":["// Напиши скрипт, який буде зберігати значення полів \n// у локальне сховище, коли користувач щось друкує.\n\n// 1+. Відстежуй на формі подію input, \n// і щоразу записуй у локальне сховище об'єкт з полями email і message, \n// у яких зберігай поточні значення полів форми.\n// Нехай ключем для сховища буде рядок \"feedback-form-state\".\n\n// 2+. Під час завантаження сторінки перевіряй стан сховища, \n// і якщо там є збережені дані, заповнюй ними поля форми.\n// В іншому випадку поля повинні бути порожніми.\n\n// 3+. Під час сабміту форми очищуй сховище і поля форми,\n// а також виводь у консоль об'єкт з полями email, \n// message та їхніми поточними значеннями.\n\n// 4+. Зроби так, щоб сховище оновлювалось не частіше, \n// ніж раз на 500 мілісекунд.\n// Для цього додай до проекту і використовуй бібліотеку lodash.throttle.\n\nimport _ from 'lodash';\n\nconst lodash = _; \nlet valuesForm = {};\nlet formObj = localStorage.getItem('feedback-form-state');\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('input'),\n    message: document.querySelector('textarea'),\n}\n\nif (formObj) {\n    const dataFromStorage = JSON.parse(formObj)\n\n    writeValuesForm(dataFromStorage);\n}\n\nfunction writeValuesForm(dataFromStorage) {        \n    const {\n        email,\n        message,\n    } = dataFromStorage;\n\n    if (dataFromStorage.hasOwnProperty('email')) {\n        refs.email.value = email;\n        valuesForm.email = email;\n    }\n\n    if (dataFromStorage.hasOwnProperty('message')) {\n        refs.message.value = message;\n        valuesForm.message = message;\n    }    \n}\n\nconst onInputWrite = (event) => {\n    const atrName = event.target.getAttribute('name');\n\n    if (atrName === \"email\") {\n        valuesForm.email = event.target.value;\n    }\n    \n    if (atrName === \"message\") {\n        valuesForm.message = event.target.value;\n    }\n\n    formObj = JSON.stringify(valuesForm);\n    localStorage.setItem(\"feedback-form-state\", formObj);\n}\n\nconst onButtonClick = (event) => {\n    event.preventDefault(); \n    console.log(valuesForm)\n\n    localStorage.clear();   \n    refs.email.value = '';\n    refs.message.value = '';\n    valuesForm = {};\n}\n\nrefs.form.addEventListener('input', lodash.throttle(onInputWrite, 500));\n\nrefs.form.addEventListener('submit', onButtonClick);"],"names":["$945622fd0f572e60$var$lodash","$parcel$interopDefault","parcelRequire","$945622fd0f572e60$var$valuesForm","$945622fd0f572e60$var$formObj","localStorage","getItem","$945622fd0f572e60$var$refs","form","document","querySelector","email","message","dataFromStorage","hasOwnProperty","value","$945622fd0f572e60$var$writeValuesForm","JSON","parse","addEventListener","throttle","event","atrName","target","getAttribute","stringify","setItem","preventDefault","console","log","clear"],"version":3,"file":"03-feedback.b78a48ad.js.map"}